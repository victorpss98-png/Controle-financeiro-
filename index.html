<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>PWA Controle Financeiro & Corridas</title>
  <link rel="manifest" href="manifest.json">
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  <style>
    body {font-family: Arial, sans-serif; margin: 0; padding: 0; background: #f4f6fa;}
    header {background: #4a90e2; padding: 15px; color: #fff; text-align: center;}
    .tabs {display: flex; justify-content: center; margin: 10px 0;}
    .tabs button {padding: 10px 20px; border: none; cursor: pointer; border-radius: 5px; margin: 0 5px;}
    .tabs button.active {background: #4a90e2; color: #fff;}
    .card {background: #fff; margin: 10px; padding: 15px; border-radius: 8px; box-shadow: 0 2px 6px rgba(0,0,0,0.1);}
    table {width: 100%; border-collapse: collapse; margin-top: 10px;}
    th, td {padding: 8px; border-bottom: 1px solid #ccc;}
    .toolbar {display: flex; flex-wrap: wrap; gap: 8px; margin-bottom: 10px;}
    .toolbar input, .toolbar select {padding: 6px; border: 1px solid #ccc; border-radius: 4px;}
    .btn {padding: 6px 12px; border: none; border-radius: 4px; cursor: pointer;}
    .btn.primary {background: #4a90e2; color: white;}
    .btn.danger {background: #e74c3c; color: white;}
  </style>
</head>
<body>
  <header>
    <h2>PWA Controle Financeiro & Corridas</h2>
  </header>

  <div class="tabs">
    <button class="active" onclick="openTab('finance')">Financeiro</button>
    <button onclick="openTab('runs')">Corridas</button>
  </div>

  <div id="finance" class="tab card">
    <h3>Lan√ßamentos Financeiros</h3>
    <div class="toolbar">
      <input type="date" id="f_date" />
      <select id="f_type">
        <option value="despesa">Despesa</option>
        <option value="receita">Receita</option>
      </select>
      <input id="f_category" placeholder="Categoria" />
      <input id="f_amount" type="number" step="0.01" placeholder="Valor" />
      <button class="btn primary" id="f_add">Adicionar</button>
      <button class="btn danger" id="f_clear_all">Limpar</button>
    </div>
    <table>
      <thead><tr><th>Data</th><th>Tipo</th><th>Categoria</th><th>Valor</th><th></th></tr></thead>
      <tbody id="f_tbody"></tbody>
    </table>
    <br/>
    <button id="backupFinance" class="btn primary">Backup</button>
    <input type="file" id="restoreFinanceFile" style="display:none" />
    <button id="restoreFinance" class="btn">Restaurar</button>
    <canvas id="f_pie" height="260"></canvas>
  </div>

  <div id="runs" class="tab card" style="display:none">
    <h3>Controle de Corridas</h3>
    <div class="toolbar">
      <input type="date" id="r_date" />
      <input id="r_category" placeholder="Categoria" />
      <input id="r_amount" type="number" step="0.01" placeholder="Valor" />
      <button class="btn primary" id="r_add">Adicionar</button>
      <button class="btn danger" id="r_clear_all">Limpar</button>
    </div>
    <table>
      <thead><tr><th>Data</th><th>Categoria</th><th>Valor</th><th></th></tr></thead>
      <tbody id="r_tbody"></tbody>
    </table>
    <br/>
    <button id="backupRuns" class="btn primary">Backup</button>
    <input type="file" id="restoreRunsFile" style="display:none" />
    <button id="restoreRuns" class="btn">Restaurar</button>
    <canvas id="r_pie" height="260"></canvas>
  </div>

  <script src="app.js"></script>
</body>
</html>